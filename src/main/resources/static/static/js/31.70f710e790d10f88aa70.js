webpackJsonp([31],{Bcf4:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l,e=s("BO1k"),n=s.n(e),i=s("vt++"),r=s("QSzI"),o=(s("0xDb"),s("weGg")),c={name:"InstallDetail",props:{machineNameplate:{type:String,default:""}},data:function(){return l=this,{statusList:i.a.InstallStatusList,loading:{},formData:{},activeTabId:0,installCotentList:[],skillStars:[],installMembers:[]}},filters:{filterDateString:function(t){return isStringEmpty(t)?"":new Date(t).format("yyyy-MM-dd")},filterStatus:function(t){for(var a="",s=0;s<l.statusList.length;s++)if(t==l.statusList[s].value){a=l.statusList[s].name;break}return a}},methods:{onStarLoad:function(t){return Object(o.c)(t.starMode)},isShowContent:function(t){return!isUndefined(t)&&"基础项"!=t.install_lib_name},loadMembers:function(){l.installMembers=[];var t={page:"",size:"",installRecordId:l.formData.id};Object(r.g)(t).then(function(t){responseIsOK(t)?l.installMembers=t.data.data.list:showMSG(l,isStringEmpty(t.data.message)?"查询数据失败！":t.data.message)})},loadData:function(){if(this.formData={},l.loading=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),null!=l.machineNameplate){var t={nameplate:l.machineNameplate};Object(r.f)(t).then(function(t){if(responseIsOK(t)){if(t.data.data.list.length>0){l.formData=t.data.data.list[0],l.installCotentList=[];try{var a=JSON.parse(l.formData.installInfo),s=!0,e=!1,i=void 0;try{for(var r,o=n()(a);!(s=(r=o.next()).done);s=!0){var c=r.value,m=!1,f=!0,p=!1,d=void 0;try{for(var _,v=n()(l.installCotentList);!(f=(_=v.next()).done);f=!0){var b=_.value;if(c.install_lib_name==b.install_lib_name){m=!0,b.contentList.push(c);break}}}catch(t){p=!0,d=t}finally{try{!f&&v.return&&v.return()}finally{if(p)throw d}}if(!m){var u=[];u.push(c),l.installCotentList.push({install_lib_name:c.install_lib_name,contentList:u})}}}catch(t){e=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(e)throw i}}l.loadMembers()}catch(t){console.log(t)}}}else showMSG(l,isStringEmpty(t.data.message)?"加载数据失败！":t.data.message);l.loading.close()}).catch(function(t){l.loading.close()})}},tabSwitchClick:function(t){console.log("tabSwitchClick:"+t)}},mounted:function(){l.loadData(),l.skillStars=Object(o.d)(l.formData.maintainFeedbackCustomerMark)}},m={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"install_detail_div"},[s("el-form",{attrs:{model:t.formData,"label-position":"right","label-width":"100px"}},[s("div",{staticClass:"panel panel-primary"},[s("div",{staticClass:"panel-heading",staticStyle:{"text-align":"left"}},[s("h3",{staticClass:"panel-title"},[t._v("客户信息")])]),t._v(" "),s("div",{staticClass:"panel-body",staticStyle:{"margin-left":"-20px"}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"客户:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.machineCustomerName)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"联系方式:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.machineCustomerPhone)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"代理商:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.machineAgentName)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"联系方式:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.machineAgentPhone)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"出厂日期:"}},[s("span",[t._v(t._s(t._f("filterDateString")(t.formData.facoryDate)))])])],1)],1)]),t._v(" "),s("div",{staticClass:"panel panel-primary"},[s("div",{staticClass:"panel-heading",staticStyle:{"text-align":"left"}},[s("h3",{staticClass:"panel-title"},[t._v("机器信息")])]),t._v(" "),s("div",{staticClass:"panel-body",staticStyle:{"margin-left":"-20px"}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"机器编号:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.machineNameplate)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"机型:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.machineType)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"针数:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.needleNum)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"头数:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.headNum)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"头距:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.headDistance)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"X行程:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.xDistance)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"Y行程:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.yDistance)}})])],1)],1)]),t._v(" "),s("div",{staticClass:"panel panel-primary"},[s("div",{staticClass:"panel-heading",staticStyle:{"text-align":"left"}},[s("h3",{staticClass:"panel-title"},[t._v("调试信息")])]),t._v(" "),s("div",{staticClass:"panel-body",staticStyle:{"margin-left":"-20px"}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"调试联系人:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.customerInInstallRecord)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"联系电话:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.customerPhoneInInstallRecord)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"地址:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.customerAddressInInstallRecord)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"调试员:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.installChargePersonName)}})])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"调试时间:"}},[s("span",[t._v(t._s(t._f("filterDateString")(t.formData.installActualTime)))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:22}},[s("el-form-item",{attrs:{label:"安装负责人:"}},[s("el-tag",{staticClass:"tagClass",attrs:{type:"success"}},[t._v("\n                                "+t._s(t.formData.installChargePersonName)+"\n                            ")])],1)],1)],1),t._v(" "),s("el-row",[s("el-col",[s("el-form-item",{attrs:{label:"安装人员:"}},t._l(t.installMembers,function(a){return s("el-tag",{key:a.name,staticClass:"tagClass",attrs:{type:"info"}},[t._v("\n                                "+t._s(a.name)+"\n                            ")])}))],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"调试结果:"}},[0==t.formData.installStatus?s("div",{staticClass:"status_class",staticStyle:{color:"#686868"}},[t._v("\n                                    "+t._s(t._f("filterStatus")(t.formData.installStatus))+"\n                            ")]):t._e(),t._v(" "),1==t.formData.installStatus?s("div",{staticClass:"status_class",staticStyle:{color:"#8b6c0e"}},[t._v("\n                                    "+t._s(t._f("filterStatus")(t.formData.installStatus))+"\n                            ")]):t._e(),t._v(" "),2==t.formData.installStatus?s("div",{staticClass:"status_class",staticStyle:{color:"#13678b"}},[t._v("\n                                "+t._s(t._f("filterStatus")(t.formData.installStatus))+"\n                            ")]):t._e(),t._v(" "),3==t.formData.installStatus?s("div",{staticClass:"status_class",staticStyle:{color:"#198b57"}},[t._v("\n                                "+t._s(t._f("filterStatus")(t.formData.installStatus))+"\n                            ")]):t._e(),t._v(" "),4==t.formData.installStatus?s("div",{staticClass:"status_class",staticStyle:{color:"darkred"}},[t._v("\n                                "+t._s(t._f("filterStatus")(t.formData.installStatus))+"\n                            ")]):t._e()])],1)],1)],1)]),t._v(" "),s("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tabSwitchClick},model:{value:t.activeTabId,callback:function(a){t.activeTabId=a},expression:"activeTabId"}},[s("el-tab-pane",{attrs:{label:"调试内容"}},[t.installCotentList.length>0?s("div",t._l(t.installCotentList,function(a){return s("div",{staticClass:"panel panel-primary",staticStyle:{"font-weight":"bold","font-size":"20px"}},[s("div",{staticClass:"panel-heading",staticStyle:{"text-align":"left"}},[s("span",{staticClass:"panel-title"},[t._v(t._s(a.install_lib_name))])]),t._v(" "),s("div",{staticClass:"panel-body"},t._l(a.contentList,function(a){return s("el-col",{attrs:{span:22}},[t.isShowContent(a)?s("span",{staticStyle:{"font-weight":"bold","font-size":"20px","margin-left":"5px"}},[t._v(t._s(a.install_content))]):s("el-form-item",{attrs:{label:a.install_content}},[s("span",[t._v(": "+t._s(a.install_value))])])],1)}))])})):s("span",[t._v("\n                        暂无内容\n                ")])]),t._v(" "),s("el-tab-pane",{attrs:{label:"调试总结"}},[s("el-col",{attrs:{span:22}},[s("el-form-item",{attrs:{label:"安装员备注:"}},[s("span",{domProps:{innerHTML:t._s(t.formData.installResult)}})])],1)],1),t._v(" "),s("el-tab-pane",{attrs:{label:"客户评价"}},[s("el-col",{attrs:{span:22}},[s("el-form-item",{attrs:{label:"用户评分:"}},[s("div",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._l(t.skillStars,function(a){return s("div",{staticStyle:{float:"left"}},[s("svg-icon",{staticStyle:{width:"30px",height:"30px",margin:"3px"},attrs:{"icon-class":t.onStarLoad(a),"data-toggle":"tooltip","data-placement":"top",title:a.score}})],1)}),t._v(" "),""!=t.formData.installFeedbackCustomerMark?s("div",{staticClass:"control-label",staticStyle:{float:"left","margin-left":"10px","font-weight":"bold"}},[t._v("\n                                         "+t._s(t.formData.installFeedbackCustomerMark)+" 分\n                            ")]):s("div",{staticClass:"control-label",staticStyle:{float:"left","margin-left":"10px","font-weight":"bold"}},[t._v("\n                                        暂无评分\n                            ")])],2)])],1),t._v(" "),s("el-col",{attrs:{span:22}},[s("el-form-item",{attrs:{label:"用户评论:"}},[s("div",{staticClass:"control-label",staticStyle:{float:"left","margin-left":"10px","font-weight":"bold"}},[t._v("\n                            "+t._s(t.formData.installFeedbackCustomerSuggestion)+"\n                        ")])])],1)],1)],1)],1)],1)},staticRenderFns:[]};var f=s("VU/8")(c,m,!1,function(t){s("c9+T")},"data-v-2f8b3be0",null);a.default=f.exports},"c9+T":function(t,a,s){var l=s("vGyr");"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);s("rjj0")("1b84aa9d",l,!0)},vGyr:function(t,a,s){(t.exports=s("FZ+f")(!1)).push([t.i,"\n.install_detail_div[data-v-2f8b3be0] {\n\tposition: relative;\n\tpadding: 20px;\n\twidth: 100%;\n}\nspan[data-v-2f8b3be0] {\n\tfont-size: 18px;\n\twidth: 100%;\n\talignment: left;\n\ttext-align: left;\n}\n.tagClass[data-v-2f8b3be0] {\n\tmargin-left: 5px;\n\twidth: 200px;\n}\n.status_class[data-v-2f8b3be0] {\n\tfont-size: 18px;\n\tfont-weight: bold;\n}\n",""])}});