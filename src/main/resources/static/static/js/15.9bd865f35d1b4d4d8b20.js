webpackJsonp([15],{PGMA:function(e,a,t){var l=t("teHB");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);t("rjj0")("61d94c62",l,!0)},teHB:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.root_div[data-v-bfa44734] {\n\tposition: relative;\n\tpadding: 20px;\n\twidth: 100%;\n}\nspan[data-v-bfa44734] {\n\tfont-size: 18px;\n\twidth: 100%;\n\talignment: left;\n\ttext-align: left;\n}\n.el-select[data-v-bfa44734] {\n\twidth: 100%;\n}\n",""])},wj64:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l,o=t("woOf"),s=t.n(o),i=t("BO1k"),n=t.n(i),r=t("vt++"),c=(t("0xDb"),t("weGg")),m=t("IcnI"),f={name:"MachineInfo",props:{machineInfoData:{type:Object,default:function(){return{}}},onSubmitData:{type:Function,default:null}},data:function(){return l=this,{formData:{oldMachineCheck:"0"},allMachineType:[],oldData:{}}},filters:{filterDateString:function(e){return new Date(e).format("yyyy-MM-dd")}},computed:{isDialbleEdit:{get:function(){return"0"==l.formData.isOldMachine}}},methods:{onSave:function(){"0"!=l.formData.isOldMachine?isStringEmpty(l.formData.nameplate)?showMessage(l,"机器编号不能空！"):isStringEmpty(l.formData.orderNum)?showMessage(l,"订单编号不能空！"):isStringEmpty(l.formData.customerName)?showMessage(l,"客户不能空！"):isStringEmpty(l.formData.machineType)?showMessage(l,"机型不能空！"):isStringEmpty(l.formData.needleNum)?showMessage(l,"针数不能空！"):isStringEmpty(l.formData.headNum)?showMessage(l,"头数不能空！"):isStringEmpty(l.formData.headDistance)?showMessage(l,"头距不能空！"):isStringEmpty(l.formData.xDistance)?showMessage(l,"X行程不能空！"):isStringEmpty(l.formData.yDistance)?showMessage(l,"Y行程不能空！"):validateIsDifferent(l.machineInfoData,l.formData)?l.onSubmitData(l.formData):l.onSubmitData(null):l.onSubmitData(null)},onSelectedChanged:function(e){l.formData.address=e.address,l.formData.agent=e.agentName,l.formData.customer=e.id},queryCustomer:function(e,a){var t=l.customerList;e&&(t=l.customerList.filter(function(a){return a.value.toLowerCase().indexOf(e.toLowerCase())>=0})),clearTimeout(l.customerTimeout),l.customerTimeout=setTimeout(function(){a(t)},800*Math.random())},initCustomerList:function(){var e={agentId:m.a.getters.user.user.agent,roleId:r.a.UserType.Customer};Object(c.e)(e).then(function(e){if(responseIsOK(e)){l.customerList=[];var a=!0,t=!1,o=void 0;try{for(var i,r=n()(e.data.data.list);!(a=(i=r.next()).done);a=!0){var c=i.value;l.customerList.push(s()({value:c.name,id:c.id},c))}}catch(e){t=!0,o=e}finally{try{!a&&r.return&&r.return()}finally{if(t)throw o}}}})},initData:function(){l.initCustomerList(),l.$store.getters.commonData.machineTypeList.length>0?l.allMachineType=l.$store.getters.commonData.machineTypeList:l.$store.dispatch("getAllMachineType").then(function(){l.allMachineType=l.$store.getters.commonData.machineTypeList}).catch(function(e){showMSG(l,"getAllMachineType failed!")})},loadData:function(){this.formData=copyObject(l.machineInfoData),isStringEmpty(this.formData.oldMachineCheck)&&(this.formData.oldMachineCheck="0")}},mounted:function(){l.initData(),l.loadData()}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"root_div"},[t("el-form",{attrs:{model:e.formData,"label-position":"right","label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"机器编号:"}},[t("el-input",{attrs:{disabled:e.isDialbleEdit,placeholder:"机器编号",clearable:"","auto-complete":"off"},model:{value:e.formData.nameplate,callback:function(a){e.$set(e.formData,"nameplate",a)},expression:"formData.nameplate"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"订单编号:"}},[t("el-input",{attrs:{disabled:e.isDialbleEdit,placeholder:"订单编号",clearable:"","auto-complete":"off"},model:{value:e.formData.orderNum,callback:function(a){e.$set(e.formData,"orderNum",a)},expression:"formData.orderNum"}})],1)],1)],1),e._v(" "),t("div",{staticClass:"panel panel-primary"},[t("div",{staticClass:"panel-heading",staticStyle:{"text-align":"left"}},[t("h3",{staticClass:"panel-title"},[e._v("客户信息")])]),e._v(" "),t("div",{staticClass:"panel-body",staticStyle:{"margin-left":"-20px"}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户:"}},[t("el-autocomplete",{attrs:{clearable:"",disabled:e.isDialbleEdit,"fetch-suggestions":e.queryCustomer,placeholder:"客户"},on:{select:e.onSelectedChanged},model:{value:e.formData.customerName,callback:function(a){e.$set(e.formData,"customerName",a)},expression:"formData.customerName"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"代理商:"}},[t("span",{domProps:{innerHTML:e._s(e.formData.agent)}})])],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"地址:"}},[t("span",{domProps:{innerHTML:e._s(e.formData.address)}})])],1)],1)]),e._v(" "),t("div",{staticClass:"panel panel-primary"},[t("div",{staticClass:"panel-heading",staticStyle:{"text-align":"left"}},[t("h3",{staticClass:"panel-title"},[e._v("机器信息")])]),e._v(" "),t("div",{staticClass:"panel-body",staticStyle:{"margin-left":"-20px"}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"机型:"}},[t("el-select",{attrs:{clearable:"",disabled:e.isDialbleEdit},model:{value:e.formData.machineType,callback:function(a){e.$set(e.formData,"machineType",a)},expression:"formData.machineType"}},e._l(e.allMachineType,function(e){return t("el-option",{attrs:{value:e.name,label:e.name}})}))],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"针数:"}},[t("el-input",{attrs:{disabled:e.isDialbleEdit,placeholder:"针数",clearable:"","auto-complete":"off"},model:{value:e.formData.needleNum,callback:function(a){e.$set(e.formData,"needleNum",a)},expression:"formData.needleNum"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"头数:"}},[t("el-input",{attrs:{disabled:e.isDialbleEdit,placeholder:"头数",clearable:"","auto-complete":"off"},model:{value:e.formData.headNum,callback:function(a){e.$set(e.formData,"headNum",a)},expression:"formData.headNum"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"头距:"}},[t("el-input",{attrs:{disabled:e.isDialbleEdit,placeholder:"头距",clearable:"","auto-complete":"off"},model:{value:e.formData.headDistance,callback:function(a){e.$set(e.formData,"headDistance",a)},expression:"formData.headDistance"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"X行程:"}},[t("el-input",{attrs:{disabled:e.isDialbleEdit,placeholder:"X行程",clearable:"","auto-complete":"off"},model:{value:e.formData.xDistance,callback:function(a){e.$set(e.formData,"xDistance",a)},expression:"formData.xDistance"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Y行程:"}},[t("el-input",{attrs:{disabled:e.isDialbleEdit,placeholder:"Y行程",clearable:"","auto-complete":"off"},model:{value:e.formData.yDistance,callback:function(a){e.$set(e.formData,"yDistance",a)},expression:"formData.yDistance"}})],1)],1)],1)]),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.formData.showType,expression:"formData.showType==2"}],attrs:{label:"审核结果:"}},[t("el-radio-group",{model:{value:e.formData.oldMachineCheck,callback:function(a){e.$set(e.formData,"oldMachineCheck",a)},expression:"formData.oldMachineCheck"}},[t("el-radio-button",{attrs:{label:"0"}},[e._v("不通过")]),e._v(" "),t("el-radio-button",{attrs:{label:"1"}},[e._v("通过")])],1)],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",staticStyle:{"margin-bottom":"50px","text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:e.onSave}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var u=t("VU/8")(f,d,!1,function(e){t("PGMA")},"data-v-bfa44734",null);a.default=u.exports}});